"use strict";$(function(){var e=randomCode(4);$(".yanzhengCode").text(e);$("#username").val(),$("#password").val(),$("#number").val(),$("#email").val();$(".quick").on("click",function(){$(".registration").addClass("status"),$(".quick").removeClass("status"),$(".regtip").removeClass("active"),$(".accoune").addClass("active")}),$(".registration").on("click",function(){$(".registration").removeClass("status"),$(".quick").addClass("status"),$(".regtip").addClass("active"),$(".accoune").removeClass("active")});var t=[200,304],i=new XMLHttpRequest;i.onload=function(){0<=t.indexOf(i.status)&&("fail"===i.responseText?$("#username").next().text("名字已经被注册"):location.href="../html/login.html")},$("#username").on("keyup",function(){var e=$("#username").val();if($(this).next().text(""),!/[\w\d]{4,16}/gi.test(e))return $(this).next().removeClass("glyphicon glyphicon-ok"),$(this).next().addClass("glyphicon glyphicon-remove"),$(this).next().text("名字格式不对"),!1;$(this).next().removeClass("glyphicon glyphicon-remove"),$(this).next().addClass("glyphicon glyphicon-ok")}),$("#password").on("keyup",function(){var e=$(this).val();$(this).next().text(""),/[\S]{6,12}/gi.test(e)?($(this).next().removeClass("glyphicon glyphicon-remove"),$(this).next().addClass("glyphicon glyphicon-ok")):($(this).next().removeClass("glyphicon glyphicon-ok"),$(this).next().addClass("glyphicon glyphicon-remove"))}),$("#confirm").on("keyup",function(){var e=$("#password").val(),t=$(this).val();if($(this).next().text(""),e!==t)return $(this).next().removeClass("glyphicon glyphicon-ok"),$(this).next().addClass("glyphicon glyphicon-remove"),$(this).next().text("两次输入的密码不正确"),!1;$(this).next().removeClass("glyphicon glyphicon-remove"),$(this).next().addClass("glyphicon glyphicon-ok")}),$("#number").on("keyup",function(){var e=$(this).val();if($(this).next().text(""),!/^1[34578]\d{9}$/.test(e))return $(this).next().removeClass("glyphicon glyphicon-ok"),$(this).next().addClass("glyphicon glyphicon-remove"),$(this).next().text("手机格式不正确"),!1;$(this).next().removeClass("glyphicon glyphicon-remove"),$(this).next().addClass("glyphicon glyphicon-ok")}),$("#email").on("keyup",function(){var e=$(this).val();if($(this).next().text(""),!/^[a-z\d][\w\-\.]{2,15}@[a-z\d][a-z\d\-\.]{1,66}(\.[\u2E80-\u9FFFa-z]{2,6}){1,2}$/.test(e))return $(this).next().removeClass("glyphicon glyphicon-ok"),$(this).next().addClass("glyphicon glyphicon-remove"),$(this).next().text("邮箱格式不正确"),!1;$(this).next().removeClass("glyphicon glyphicon-remove"),$(this).next().addClass("glyphicon glyphicon-ok")}),$("#code").on("keyup",function(){if($(this).val()!==e)return!1}),$("#register_common").on("click",function(){$("#password").val();if($("#check").prop("checked")){var e=$("#username").val(),t=$("#password").val(),n=$("#number").val(),s=$("#email").val();i.open("get","../api/reg.php?username="+e+"&password="+t+"\n\t\t\t\t&phone="+n+"&email="+s,!0),i.send()}})});