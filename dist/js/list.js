"use strict";document.addEventListener("DOMContentLoaded",function(t){var a=[200,304],o=document.querySelector(".list"),d=document.querySelector("#page"),e=document.querySelector(".sort-bar"),s=new XMLHttpRequest;s.onload=function(){if(0<=a.indexOf(s.status)){var t=JSON.parse(s.responseText),e=Math.ceil(t.total/t.qty);d.innerHTML="";for(var n=0;n<e;n++){var i=document.createElement("span");i.innerText=n+1,n===t.pageNo-1&&(i.className="active"),d.appendChild(i)}var r=document.createElement("ul");r.innerHTML=t.data.map(function(t){return'\n\t\t\t\t\t \t\t\t\t<li data-guid="'+t.goodid+'">\n\t\t\t\t\t \t\t\t\t<a href="goods.html" calss=\'big\'><img src="'+t.imgurl1+'" \n\t\t\t\t\t \t\t\t\tstyle="width:190px;height:190px;"></a>\n\t\t\t\t\t \t\t\t\t<div calss="sku-color">\n\t\t\t\t\t \t\t\t\t<a href="#"><img src="'+t.imgurl2+'"style="width:50px;\n\t\t\t\t\t \t\t\t\theight:50px;"></a>\n\t\t\t\t\t \t\t\t\t</div>\n\t\t\t\t\t \t\t\t\t<span>'+t.title+"</span>\n\t\t\t\t\t \t\t\t\t<b>￥"+t.price+"</b>\n\t\t\t\t\t \t\t\t\t<p>已有"+t.evalute+"人评价</p>\n\t\t\t\t\t \t\t\t\t<s>该商品可以分"+t.fenqi+"期</s>\n\t\t\t\t\t \t\t\t\t</li>\n\t\t\t\t\t \t\t\t\t"}).join(""),o.innerHTML="",o.appendChild(r)}},s.open("get","../api/list.php?page=1&qty=8"),s.send();var n=!(d.onclick=function(t){t.target.tagName.toLowerCase();var e=t.target.innerText;s.open("get","../api/list.php?page="+e+"&qty=8"),s.send()});e.onclick=function(t){"zonghe"===t.target.parentNode.id&&(n=!n,s.open("get","../api/list.php?sort=hot"+(n?"&desc":"")),s.send()),"price"===t.target.parentNode.id&&(n=!n,s.open("get","../api/list.php?sort=price"+(n?"&desc":"")),s.send()),"newgoods"===t.target.parentNode.id&&(n=!n,s.open("get","../api/list.php?sort=evalute"+(n?"&desc":"")),s.send())},o.onclick=function(t){var e=Cookie.get("goodslist");if(e=""===e?[]:JSON.parse(e),"LI"===t.target.parentNode.parentNode.tagName){var n=t.target.parentNode.parentNode,i=[],r={guid:n.getAttribute("data-guid"),price:n.children[3].innerText,title:n.children[2].innerText,imgurl:n.children[0].children[0].src,pingjia:n.children[4].innerText,imgurlmin:n.children[1].children[0].children[0].src,discount:"官网直降200元"};i.push(r),Cookie.set("goodslist",JSON.stringify(i))}}});